//apply plugin: 'java' java project
apply plugin: 'war' //web project
apply plugin: 'idea'
apply plugin: 'jetty'

sourceCompatibility = 1.7
targetCompatibility = 1.7
version = '1.0'

webAppDirName = 'webapp'

repositories {
    mavenCentral()
}

ext {
    junitVersion = '4.11'
}

[compileJava, compileTestJava, javadoc]*.options*.encoding = "UTF-8"
dependencies {
    testCompile 'junit:junit:$junitVersion'
}

[jettyRun, jettyRunWar]*.with {
    webDefaultXml = file("${rootDir}/src/main/resources/webdefault.xml")
}

jettyRun {
//    webAppSourceDirectory file("$projectDir/src/main/webapp")
    httpPort 8080
//    contextPath project.name
    scanIntervalSeconds 1
    reload 'automatic'
}
